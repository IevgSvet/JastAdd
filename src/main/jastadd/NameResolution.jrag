aspect NameResolution {


    inh Def Var.getDef(String name);
    syn Def Var.getDef();

    eq Root.getExp().getDef(String name) {
        for (Def def : getDefList()) {
            if (def.getName().equals(name))
                return def;
            }
        return null;
    }
    eq Var.getDef() {
        return getDef(getName());
    }
}